<section class="section-padding flights-sec bg-light-white">
  <div class="container">
    <div class="section-header">
      <div class="section-heading">
        <h3 class="text-custom-black">Recommended Adventure Voyages</h3>
        <div class="section-description">
          <p class="text-light-dark">
            Explore our recommended adventure travel packages with all the details you need.
          </p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <!-- Indicateur de chargement -->
        <div *ngIf="!imagesLoaded" class="loading-spinner">
          <p>Chargement des images en cours...</p>
        </div>

        <!-- Carrousel -->
        <ngx-slick-carousel *ngIf="imagesLoaded" [config]="settings" class="flights-slider arrow-layout-2 row">
          <!-- Boucle sur les voyages -->
          <div ngxSlickItem class="slide-item col-12" *ngFor="let voyage of voyages">
            <div class="flights-grid">
              <div class="flights-grid-wrapper bx-wrapper">
                <div class="image-sec animate-img">
                  <a routerLink="/voyage-details/{{voyage.idVoyage}}">
                    <div class="image-container">
                      <img *ngIf="voyageImages[voyage.idVoyage] && voyageImages[voyage.idVoyage].length > 0"
                           [src]="voyageImages[voyage.idVoyage][0]"
                           class="full-width"
                           [alt]="voyage.titreVoyage">
                    </div>
                  </a>
                </div>
                <div class="flights-grid-caption padding-20 bg-custom-white p-relative">
                  <div class="heading-sec">
                    <div class="left-side">
                      <i class="fas fa-plane text-gray"></i>
                      <div class="title">
                        <h4 class="fs-16">
                          <a routerLink="/voyage-details/{{voyage.idVoyage}}" class="text-custom-black">
                            {{voyage.titreVoyage}}
                          </a>
                          <span class="text-light-dark">
                            {{voyage.typeVoyage.nomTypeVoyage}} <!-- Afficher le type de voyage -->
                          </span>
                        </h4>
                      </div>
                    </div>
                    <div class="right-side">
                      <span class="price">
                        <small>From</small>
                        ${{voyage.prix | number:'1.0-0'}} <!-- Afficher le prix -->
                      </span>
                    </div>
                  </div>
                  <div class="action">
                    <a routerLink="/voyage-details/{{voyage.idVoyage}}" class="btn-second btn-small">View</a>
                    <a routerLink="/booking" class="btn-first btn-submit">Book</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Fin de la boucle -->
        </ngx-slick-carousel>
      </div>
    </div>
  </div>
</section>
