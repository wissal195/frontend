<section class="section-padding hotels-sec bg-light-white">
  <div class="container">
    <div class="section-header">
      <div class="section-heading">
        <h3 class="text-custom-black">Voyages de Noce Recommandés</h3>
        <div class="section-description">
          <p class="text-light-dark">
            Découvrez nos voyages de noce recommandés avec tous les détails dont vous avez besoin.
          </p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <!-- Indicateur de chargement -->
        <div *ngIf="!imagesLoaded" class="text-center">
          <p>Chargement des voyages...</p>
        </div>

        <!-- Carrousel -->
        <ngx-slick-carousel *ngIf="imagesLoaded" [config]="settings" class="hotel-slider arrow-layout-2 row">
          <!-- Boucle sur les voyages -->
          <div ngxSlickItem class="slide-item col-12" *ngFor="let voyage of voyages">
            <div class="hotel-grid">
              <div class="hotel-grid-wrapper car-grid bx-wrapper">
                <!-- Section de l'image -->
                <div class="image-sec animate-img">
                  <a routerLink="/voyage-details/{{voyage.idVoyage}}">
                    <!-- Afficher la première image du voyage -->
                    <img *ngIf="voyageImages[voyage.idVoyage] && voyageImages[voyage.idVoyage].length > 0"
                         [src]="voyageImages[voyage.idVoyage][0]"
                         class="full-width"
                         [alt]="voyage.titreVoyage">
                    <!-- Image par défaut si aucune image n'est disponible -->
                    <img *ngIf="!voyageImages[voyage.idVoyage] || voyageImages[voyage.idVoyage].length === 0"
                         src="assets/images/default-image.jpg"
                         class="full-width"
                         alt="Image par défaut">
                  </a>
                </div>

                <!-- Section des détails du voyage -->
                <div class="hotel-grid-caption padding-20 bg-custom-white p-relative">
                  <!-- Titre du voyage et type de voyage -->
                  <h4 class="title fs-16">
                    <a routerLink="/voyage-details/{{voyage.idVoyage}}" class="text-custom-black">
                      {{voyage.titreVoyage}}
                      <small class="text-light-dark">
                        {{voyage.typeVoyage.nomTypeVoyage}} <!-- Afficher le type de voyage -->
                      </small>
                    </a>
                  </h4>

                  <!-- Prix du voyage -->
                  <span class="price">
                    <small>Prix total</small>
                    ${{voyage.prix | number:'1.0-0'}} <!-- Afficher le prix -->
                  </span>

                  <!-- Dates de départ et d'arrivée -->
                  <div class="dates text-light-dark">
                    <small>Départ: {{extractDateOnly(voyage.vol.dateDepart)}}</small> <!-- Date de départ -->
                    <small>Arrivée: {{extractDateOnly(voyage.vol.dateArrivee)}}</small> <!-- Date d'arrivée -->
                  </div>

                  <!-- Informations sur l'hôtel
                  <div class="hotel-info">
                    <small>Hôtel: {{voyage.hotel[0].nomHotel}}</small>
                    <div class="stars">

                      <span *ngFor="let star of generateStars(voyage.hotel[0].typeHotel.categorie)" class="star">⭐</span>
                    </div>
                  </div>-->

                  <!-- Boutons d'action -->
                  <div class="action">
                    <a routerLink="/voyage-details/{{voyage.idVoyage}}" class="btn-second btn-small">Voir</a>
                    <a routerLink="/booking" class="btn-first btn-submit yellow">Réserver</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Fin de la boucle -->
        </ngx-slick-carousel>
      </div>
    </div>
  </div>
</section>
